---
type: decision
id: ADR-007
title: YAML Schemas & Folder-Contracts as the single source of truth
date: 2025-09-19
status: accepted
owners: [kira-core]
drivers: [однозначность, анти‑дубли, предиктивность]
---

## Контекст

Разнообразие заметок ведёт к двусмысленности. Нужны формальные правила.

## Решение

- Источник истины: `.kira/schemas/*.yaml` и README‑контракты папок (Folder‑Contracts).
- Валидатор в CI и в `ctx.vault.write`.

## Альтернативы

- «Свободное письмо» без схем → отклонено.

## Реализация

- Автоген шаблонов из схем (соблюдение порядка ключей); отчёт о нарушениях в `@Indexes/validation.md`.

## Риски

- Шум при миграции → режим предупреждений для необязательных полей на первом этапе.

## Метрики/DoD

- Доля валидных файлов ≥ 99%; нет записей вне контрактов.
